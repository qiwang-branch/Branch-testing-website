<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <script>
    // load Branch
      (function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking".split(" "), 0);
    // init Branch
    branch.init('key_test_hgITi8Ubm8IZ9ls3rV2rEienCtbrpek2');

    function logIn() {
      branch.track('pageview', {
        'loggedIn': true
      });
    };

    function compeleteRegisteration() {
      var event_and_custom_data = {
        "transaction_id": "tras_Id_1234",
        "description": "Preferred purchase",
        "registration_id": "12345"
      };
      var customer_event_alias = "my custom alias";

      branch.logEvent(
      "COMPLETE_REGISTRATION",
      event_and_custom_data,
      content_items,
      customer_event_alias,
      function(err) { console.log(err); }
      );
    };

    function customEvent() {
      var custom_data = {
        "foo": "bar test",
        "$referrerID": "ced82cd8-3e3e-4ef4-b2d0-2ea661c0d82e"
      };

      branch.logEvent(
      "APPLICATION_CREATED",
      custom_data,
      function(err) { console.log(err); }
      );
    };

    function switchBrandName() {
      branch.closeJourney(function(err) {
        console.log(err);
      });
      branch.track(
        'pageview',
        {
          'brand_name': 'Woolies'
        },
        {
          'disable_entry_animation': true,
          'disable_exit_animation': true
        });
      // branch.setBranchViewData({
      //   data: {
      //     'brand_name': 'Woolies'
      //   }
      // });
      console.log('fired event');
    };
  </script>
</head>
<body>
    <h1>Qi Branch Testing Heading</h1>
    <p>My first paragraph.</p>
    <div>
      <button onclick="logIn()">Login</button>
    </div>
    <div>
      <button onclick="compeleteRegisteration()">Complete registeration</button>
    </div>
    <div>
      <button onclick="customEvent()">Trigger custom event</button>
    </div>
    <div>
      <a href="https://xnlyn.test-app.link/g6cyOq9vF2">Quick link</a>
    </div>
    <div>
      <button onclick="switchBrandName()">Switch brand</button>
    </div>
</body>
</html>